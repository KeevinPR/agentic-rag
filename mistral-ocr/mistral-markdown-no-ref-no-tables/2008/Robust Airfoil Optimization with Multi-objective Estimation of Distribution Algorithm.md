# Robust Airfoil Optimization with Multi-objective Estimation of Distribution Algorithm 

Zhong Xiaoping ${ }^{\mathrm{a}, *}$, Ding Jifeng ${ }^{\mathrm{b}}$, Li Weiji ${ }^{\mathrm{a}}$, Zhang Yong ${ }^{\mathrm{c}}$<br>${ }^{a}$ School of Aeronautics, Northwestern Polytechnical University, Xi'an 710072, China<br>${ }^{\mathrm{b}}$ China Space Technology Research Institute, Beijing 100083, China<br>${ }^{c}$ China Aerodynamics Research and Development Center, Mianyang 621000, China

Received 14 June 2007; accepted 28 October 2007


#### Abstract

A transonic airfoil designed by means of classical point-optimization may result in its dramatically inferior performance under off-design conditions. To overcome this shortcoming, robust design is proposed to find out the optimal profile of an airfoil to maintain its performance in an uncertain environment. The robust airfoil optimization is aimed to minimize mean values and variances of drag coefficients while satisfying the lift and thickness constraints over a range of Mach numbers. A multi-objective estimation of distribution algorithm is applied to the robust airfoil optimization on the base of the RAE2822 benchmark airfoil. The shape of the airfoil is obtained through superposing ten Hick-Henne shape functions upon the benchmark airfoil. A set of design points is selected according to a uniform design table for aerodynamic evaluation. A Kriging model of drag coefficient is constructed with those points to reduce computing costs. Over the Mach range from 0.7 to 0.8 , the airfoil generated by the robust optimization has a configuration characterized by supercritical airfoil with low drag coefficients. The small fluctuation in its drag coefficients means that the performance of the robust airfoil is insensitive to variation of Mach number.


Keywords: airfoil robust design; multi-objective estimation of distribution algorithm; uncertain environment; drag; fluctuation

## 1 Introduction

The traditional single-point optimization of airfoil is performed on the base of given, or assumed, model parameters. However, degradation, even severe degradation, in the airfoil performances may occur under off-design conditions. To overcome the shortcoming, Derla presented a multipoint optimization method for airfoil design ${ }^{[1]}$, which was aimed to alleviate the deterioration in airfoil performances to some extent. The use of the multi-point optimization approach, however, de-

[^0]pends upon the number and the spacing of multiple design points and the weight of each point. Unfortunately, there is no appropriate approach for selection of weights and design points so far ${ }^{[2-3]}$. In fact, it is difficult for multi-point optimization method to complete an airfoil design without degradation under off-design conditions ${ }^{[3-5]}$. In this study, robust airfoil optimization is introduced to minimize the drags and makes the fluctuation in drags as small as possible within a given range of Mach numbers. The uncertainty of Mach numbers makes the drags possess random characteristics which causes the need for minimizing the mean values and the variances of the drags. Simultaneous minimization of the mean values and the variances poses a bi-objective opti-


[^0]:    *Corresponding author. Tel.: +86-29-88491415.

    E-mail address: zxp_proteus@nwpu.edu.cn
    Foundation item: National Natural Science Foundation of China
    (10377015)

mization problem.
As a kind of population-based intelligent optimization algorithm, the estimation of distribution algorithm (EDA) can capture the underlying structrue of the problem to be optimized ${ }^{[6-7]}$ by extracting information from the promising solutions in the population on each generation. The selected promising solutions are used to build a probabilistic model, which is sampled to generate good offspring. The way to generate offspring like this is an explicit processing of building blocks, which is different from the implicit processing in standard evolutionary algorithms (EAs). Therefore, EDA is able to avoid the disruption of building blocks ${ }^{[8]}$ and to solve non-linear or even deceptive problems with a considerable degree of epitasis ${ }^{[6,9]}$. Furthermore, the prior information about the problem can be incorporated into this probabilistic model to guide and accelerate the optimization process.

The real-coded multi-objective Bayesian optimization algorithm (RCMBOA) proposed by the authors in Ref.[10] is applied to the robust airfoil optimization. As a multi-objective estimation of distribution algorithm (MEDA), RCMBOA uses Bayesian network to encode conditional dependencies among variables. As an effective and robust multi-objective optimization algorithm, RCMBOA can be used to obtain well spread non-dominated solution set close to the true Pareto front of a problem.

## 2 Robust Design of Airfoil

### 2.1 Geometric representation of an airfoil

In this paper an airfoil shape is formed through superimposition of ten Hick-Henne shape functions upon a benchmark airfoil (RAE2822) with fixed leading and trailing edges. Thus, the shape of the airfoil is expressed as:

$$
\left.\begin{array}{l}
y_{u}=y_{u b}+\sum_{k=1}^{m / 2} \delta_{k} f_{k}(x) \\
y_{1}=y_{1 b}+\sum_{k=m / 2+1}^{m} \delta_{k} f_{k}(x)
\end{array}\right\}
$$

where, $y_{\mathrm{ub}}$ and $y_{\mathrm{lb}}$ are coordinates on top and bottom surfaces of the benchmark airfoil RAE2822 respectively. $f_{k}(x)$ is a shape function, $\delta_{k}$ the coefficient of shape function, and $m$ the number of design variables. The ten Hicks-Henne functions are

$$
f_{k}(x)=\left\{\begin{array}{l}
x^{0.25}(1-x) \mathrm{e}^{-20 x} \quad k=1,6 \\
\sin ^{3}\left(\pi x^{e(k)}\right) \quad k=2, \cdots, 5,7, \cdots, 10
\end{array}\right.
$$

where $e(k)=\ln 0.5 / \ln x_{k}, x_{k}=[0.2,0.4,0.6,0.8,0.2$, $0.4,0.6,0.8], k=2, \cdots, 5,7, \cdots, 10 . x_{k}$ 's are the locations of maximum height of the corresponding shape functions.

The shape of the airfoil can be modified by changing the values of $\delta_{k}$ 's in Eq.(1). Therefore, those are chosen as design variables in this study. The upper and lower limits of the ten variables are: $\delta_{1} \in[-0.006,0.006], \delta_{2} \in[-0.01,0.006], \delta_{3} \in$ $[-0.006,0.008], \delta_{4} \in[-0.005,0.005], \delta_{5} \in[-0.005$, $0.01], \delta_{6} \in[-0.008,0.006], \delta_{7} \in[-0.01,0.01], \delta_{8} \in$ $[-0.005,0.01], \delta_{9} \in[-0.005,0.005], \delta_{10} \in[-0.005$, $0.015]$.

### 2.2 Aerodynamic evaluation and approximate model

The aerodynamic evaluation is based on Spalart-Allmaras turbulent model. N-S equations are solved using implicit coupled scheme. A C-type grid in the size of $280 \times 70$ is used.

Given a fixed airfoil shape and a fixed Mach number, the lift is almost a linear function of the angle of attack. Therefore, the search method based on a linear interpolation is used to find out an attack angle at which the corresponding lift is equal to the target value $c_{j}^{*}$, i.e., $c_{j}(X, M a, \alpha)=c_{j}^{*}$. At this attack angle, the drag is then obtained. The aerodynamic evaluation process can be summarized as follows. Choose an error tolerance $\varepsilon>0$ and an initial adjustment rate $0<k<1$. Let $\alpha_{0}$ be an initial attack angle for a given airfoil shape and Mach number. An appropriate angle of attack $\alpha$, at which $\left|c_{j}(X, M a, \alpha)-c_{j}^{*}\right|<\varepsilon$ is satisfied, is obtained through an iterative process. See Refs.[4-5] for details.

A direct application of CFD software ("Fluent"

is used in this paper) in the optimization process will render the computation time-consuming and expensive, so an approximate aerodynamic evaluation approach based on the Kriging model ${ }^{[11-12]}$ is adopted in practices. In order to construct the Kriging model, according to the uniform design table $\mathrm{U} 165\left(11^{11}\right)^{[13]}$ is selected a set of 165 design points, on which the aerodynamic forces are evaluated with CFD software. With these design points and the aerodynamic forces, a Kriging model is built to approximate the relationships between the drag coefficients and the design variables. The reason for choosing a uniform table of 11 factors lies in that the Mach number along with other 10 airfoil geometry parameters are needed for the aerodynamic evaluation. After the approximate model is constructed, the multi-objective estimation of distribution algorithm can be applied to airfoil optimization.

## 3 Multi-objective Estimation of Distribution Algorithm

The decision-tree-based probabilistic model is used to encode conditional dependencies among variables in this algorithm. To build the model, should be from the population adopted some promising solutions, which are selected based on the fitness, a combination of the rank and crowding distance of each solution. To achieve the combination, there are two ways: compound and hierarchic. The former is to add the crowding distance to the rank, but because the rank and the crowding distance are two different traits of a solution, the addition will blur the concepts and lead to inaccurate result. In the latter way, the comparison is performed first on the base of the rank, and if it results in a tie, then the crowding distance is required to break the tie. Finally, the one with a greater crowding distance wins. The hierarchic way is used in this paper.

Along with non-dominated sorting and crowding distance estimation, truncated selection is performed based on the fitness. After a proper number of solutions is selected, these solutions are used to construct a probabilistic model in which a decision tree is set up for each variable. Offspring are sam-
pled from these models. In addition, polynomial mutation is conducted on the new solutions to enhance the exploratory capability of the algorithm. Mutation is helpful in avoiding premature convergence due to the existence of local Pareto fronts in some optimization problems. The truncated selection together with polynomial mutation maintains the diversities of the populations. In order to overcome the deficiency in adapting the variances of the search distribution, the variance adaptation mechanism is used in MEDA. In solving multi-objective optimization problems with constraints, constrain-ed-dominance introduced by Deb ${ }^{[14]}$ is adopted as a constraint-handling approach.

### 3.1 Non-dominated sorting and truncated selection

The fast non-dominated sorting approach, crowding distance estimation and truncated selection are incorporated in MEDA to pick out the best solutions. Let rank 1 be assigned to solutions in the first front, rank 2 to those in the second front, and so on. The lower front a solution belongs to, the better it is. After identifying all the non-dominated solutions (those in the first front) in the population, they are copied to the mating pool. And crowding distance of each solution in mating pool is estimated in objective space. Then the selection is fulfilled based on crowding distances of solutions. During the implementation, there is a procedure to eliminate redundant solutions one by one in truncated selection.

In case of non-dominated solutions exceeding the population size, some solutions with the smaller values of crowding distance are removed. In this case, only the solution with the smallest value of the crowding distance is removed. This process continues until the number of remaining solutions is equal to the population size. Note that the crowding distance of some solutions should be reestimated every time a solution is eliminated. For simplicity, in the implementation, it is reestimated for all the remaining solutions on this rank in the mating pool.

If the non-dominated solutions are less than those required by the population size, it is necessary

to identify the dominated solutions in the second front, and to copy them into the mating pool. If they are still not enough, those in the following front (the third front) should be identified and added into the mating pool. This operation must be repeated until the solutions in the mating pool are no longer less than those required by the population size. The above-mentioned elimination procedure continues on the dominated solutions in the highest front until enough solutions are left behind in the mating pool.

### 3.2 Variance adaptation

If the kernel width $\sigma$ of Gaussian distributions decreases too early, new solutions will be very similar to its parent thus causing difficulty generating better solutions. To prevent variances from premature shrinking, an overall scaling factor, $\eta$, is used to exert adaptive control of the kernel width of the marginal distributions. For simplicity, the number of solutions being selected into the next generation is denoted by $N_{\text {succ }}$, and the remaining number by $N_{\text {fail }}$. Based on experimental results from multiobjective optimization, the total modifications of $\eta$ is

$$
\left.\begin{array}{l}
\eta^{\prime}=\eta^{(t)} \alpha^{0.4 N_{\mathrm{succ}}} \alpha^{0.6 N_{\mathrm{fail}} p \cdot(\cdot p-1)} \\
\eta^{(t+1)}=\left\{\begin{array}{ll}
\eta^{\prime} \mathrm{e}^{0.7 p t S_{\mathrm{succ}}} & \text { if } t<0.5 t_{\max } \\
\eta^{\prime} \mathrm{e}^{0.3 p t S_{\mathrm{succ}}} & \text { otherwise }
\end{array}\right\}
$$

where $t$ is the current generation, $t_{\max }$ the maximum generation, $p=0.05+0.3 / \sqrt{m}$ and $m$ the number of design variables. Each new kernel width $\sigma$ is achieved by multiplying $\eta^{(t+1)}$.

### 3.3 Procedure of MEDA

The general optimization procedure of MEDA is described as follows:
(1) To set population size $N_{\text {pop }}$, the promising solutions size $N_{\text {par }}$, the offspring size $N_{\text {sam }}$, mutation probability $P_{\mathrm{m}}$, the distribution index for mutation $\eta_{\mathrm{m}}$, the maximum iteration number $t_{\max }$, and the initial population generated randomly $P(0)$, and let $t=$ 0 .
(2) To select $N_{\text {par }}$ promising solutions from $P(t)$ and form a set of $S(t)$.
(3) To construct the probabilistic model $B$
using scoring metric.
(4) To sample $N_{\text {sam }}$ solutions from the probabilistic model $B$, and the new solutions form $O(t)$.
(5) To perform polynomial mutation on solutions in $O(t)$ with probability $P_{\mathrm{m}}$.
(6) To create a new population $P(t+1)$ by selecting $|P(t)|$ solutions from $P(t)$ and $O(t)$ using non-dominated sorting and truncated selection described in Section 3.1, and to modify the variances according to Section 3.2, set $t=t+1$.
(7) If the termination criteria are not met, go back to (2).

Note that if $S(t)$ and $P(t)$ have the same size, which means $S(t)$ is just identical to $P(t)$, skip the step (2).

## 4 Flow Chart of Robust Airfoil Optimization

The flow chart of robust airfoil optimization by means of MEDA is shown in Fig.1.
![img-0.jpeg](img-0.jpeg)

Fig. 1 Flow chart of robust airfoil optimization.

## 5 Examples

### 5.1 Example 1

Taking RAE2822 as the benchmark airfoil, and assuming the free-stream Mach number ranges from 0.7 to 0.8 , a robust airfoil optimization is performed. Given lift-constrained drag minimization over a

range of Mach numbers, the robust optimization problem could be formulated as follows:

$$
\begin{aligned}
& \min \left(\mu, \sigma^{2}\right) \\
& \text { s.t. } \quad c_{l}(X, M a, \alpha)=c_{l}^{*} \text { over } M a \in\left[M a_{\min }, M a_{\max }\right] \\
& x_{i, \min } \leq x_{i} \leq x_{i, \max } \quad i=1, \cdots, 10
\end{aligned}
$$

Within a range of Mach numbers, mean values and variances of drag coefficient could be approximated by random simulation. They were

$$
\begin{gathered}
\mu=E\left(c_{d}\right)=\int_{M a_{\max }}^{M a_{\min }} c_{d}(X, M a, \alpha) p(M a) \mathrm{d}(M a) \approx \\
\frac{1}{N_{x}} \sum_{k=1}^{N_{x}} \hat{c}_{d}\left(X, M a_{k}\right) \\
\sigma^{2}=\int_{M a_{\max }}^{M a_{\min }}\left[c_{d}(X, M a, \alpha)-E\left(c_{d}\right)\right]^{2} \cdot \\
p(M a) \mathrm{d}(M a) \approx \frac{1}{N_{x}-1} \sum_{k=1}^{N_{x}}\left(\hat{c}_{d}\left(X, M a_{k}\right)-\mu\right)^{2}
\end{gathered}
$$

where $\left[M a_{\min }, M a_{\max }\right]=[0.7,0.8], p(M a)$ is a probability density function of Mach number. The distribution of $M a$ is supposed to be uniform, which means $p(M a)=10, M a \in[0.7,0.8]$, and $M a_{k}$ is a Mach number randomly generated according to $p(M a) . N_{\mathrm{x}}$ is the times of simulation, $\hat{c}_{d}\left(X, M a_{k}\right)$ the prediction of drag coefficient by Kriging model, $x_{i, \max }$ and $x_{i, \min }$ are upper and lower limits of design variables respectively. The parameters of MEDA are: the population size is 100 , number of promising solutions is 100 , and 100 offspring are sampled per generation. The mutation rate is 0.1 , distribution index for mutation is 20 , and the maximum number of iterations is $200 . N_{\mathrm{s}}$ is 30000 . The obtained nondominated solution set is shown in Fig.2.
![img-2.jpeg](img-2.jpeg)

Fig. 2 Non-dominated solutions from robust airfoil optimization without considering thickness constraints.

### 5.2 Example 2

On the basis of Example 1, three minimum thickness constraints at specific spar locations are imposed to meet structure and strength requirements. These spar locations are $0.15 c, 0.6 c$ and the maximum thickness location. Thus, the formulation of the problem becomes

$$
\begin{gathered}
\min \left(\mu, \sigma^{2}\right) \\
\text { s.t. } \quad c_{l}(X, M a, \alpha)=c_{l}^{*} \text { over } M a \in\left[M a_{\min }, M a_{\max }\right] \\
t^{*}(0.15 c)-t(0.15 c) \leq 0 \\
t^{*}(0.6 c)-t(0.6 c) \leq 0 \\
t^{*}\left((t / c)_{\max }\right)-t\left((t / c)_{\max }\right) \leq 0 \\
x_{i, \min } \leq x_{i} \leq x_{i, \max } \quad i=1, \cdots, 10
\end{gathered}
$$

where $c$ is the chord length, $t$ the relative thickness at given chord location, and $t^{*}$ the corresponding quantity of RAE2822. The parameters of MEDA are the same as those in the Example 1. The obtained non-dominated set of solutions is shown in Fig.3.
![img-2.jpeg](img-2.jpeg)

Fig. 3 Non-dominated solutions from robust airfoil optimization with considering thickness constraints.

### 5.3 Results and discussion

Fig. 2 shows a uniformly distributed nondominated solution set from the robust airfoil optimization without considering thickness constraints. Fig. 3 shows the one with considering thickness constraints. Because no thickness constraint is considered in choosing experimental points according to uniform table $\mathrm{U} 165\left(11^{11}\right)$, only 38 out of 165 points meet the thickness requirements, which makes the experimental points as whole less repre-

sentative and leads to a poorer approximate model. Thus a non-dominated solution set with poorer uniformity than that in Fig. 2 is obtained.

The mean value of the drag coefficient varies between 0.01359 and 0.01812 , and the variance is in $\left[2.65 \times 10^{-5}, 3.09 \times 10^{-6}\right]$ for the case without considering thickness constraints. As for the case with considering the thickness constraints, the mean values and variances are located in $[0.01808,0.02756]$ and $\left[1.12 \times 10^{-4}, 6.24 \times 10^{-5}\right]$ respectively. It can be seen that the designs without considering thickness constraints have lower drag coefficients and smaller fluctuation in comparison with those with considering them. Take design $D\left(\mu=0.01500, \sigma^{2}=9.60 \times\right.$ $10^{-6}$ ) in Fig. 2 and design $D^{\prime}\left(\mu=0.02143, \sigma^{2}=\right.$ $\left.9.77 \times 10^{-5}\right)$ in Fig. 3 to analyze their aerodynamic performances further. Fig. 4 makes a comparison between the profiles of design $D$ and RAE2822, and the Fig. 5 between $D^{\prime}$ and RAE2822. In Fig.5, the vertical fine dotted lines indicate the locations of thickness constraints.

From Fig. 4 and Fig.5, it can be seen that the airfoil generated by robust optimization has a smooth bulgy upper surface. However, on the lower
![img-6.jpeg](img-6.jpeg)

Fig. 4 Airfoil without considering thickness constraints.
![img-4.jpeg](img-4.jpeg)

Fig. 5 Airfoil with considering thickness constraints.
surface near the trailing edge exists a concave surface with a camber obviously greater than that in the case of RAE2822. Both airfoils prove to be of su-per-critical character. As shown in Fig.5, the thicknesses at the three specified locations in the design with help of the robust approach are almost the same as in RAE2822. The corresponding thickness constraint values are $-5.68 \times 10^{-5},-1.78 \times 10^{-5}$ and $-1.42 \times 10^{-4}$ from left to right in Fig.5.

Figs.6-7 describe the changes in drag coefficients of design $D$ and $D^{\prime}$ with Mach number from 0.7 to 0.8 . It is obvious that given a lift coefficient, the drag coefficient fluctuations of the robust optimized airfoil are much smaller than those of RAE2822, especially in the range of $0.70-0.78$. From 0.78 to 0.80 , the drag rises much sharply because a larger angle of attack is needed to ensure the given lift coefficient at a higher Mach number. However, the trend is still weaker than that of RAE2822.
![img-5.jpeg](img-5.jpeg)

Fig. 6 Airfoil performance without considering thickness constraints.
![img-6.jpeg](img-6.jpeg)

Fig. 7 Airfoil performance with considering thickness constraints.

## 6 Conclusions

A multi-objective estimation of distribution algorithm is applied to robust airfoil optimization with and without considering thickness constraints using RAE2822 as a benchmark airfoil. The results indicate that the airfoils generated through robust optimization have low drag coefficients with small fluctuation within a given Mach number range. The designs without considering thickness constraints have lower drag coefficients with smaller fluctuation than those with considering thickness constraints. By analyzing the obtained non-dominated solution set from the robust airfoil optimization with considering thickness constraints, it is expected that a better experimental design method should be developed to construct a more accurate approximate model in the future.

## Biography:

Zhong Xiaoping Born in 1977, he received M.S. degree from Northwestern Polytechnical University in 2003, and now is a teacher there. His research interest includes aerodynamic shape optimization.
E-mail: zxp_proteus@nwpu.edu.cn